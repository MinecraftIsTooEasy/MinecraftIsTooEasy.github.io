const translations = {
    zh: {
        site_title: "Modded MITE",
        nav_home: "首页",
        nav_resources: "资源",
        nav_tutorials: "教程",
        nav_development: "开发",
        nav_about: "关于",
        what_is_modded_mite: "什么是Modded MITE以及Modded MITE社区",
        what_is_modded_mite_desc: "Modded MITE通常指安装以FishModLoader为主的模组加载器的MITE实例；<br>也可以指Modded MITE社区；<br>Modded MITE社区（组织）是由一群热爱MITE的玩家组成，目前以开发MITE模组为主，期待你的加入！<br>模组开发、网站维护、文档编写、账号运营...只要你有意愿，都可以进群咨询，为社区贡献。",
        quick_nav: "快速导航",
        mod_intro: "模组介绍",
        resource_download: "资源下载",
        old_mod_intro: "过时模组介绍",
        what_is_fml: "什么是FML",
        friendly_links: "友情链接",
        mod_wiki: "模组百科",
        goblin_tech: "地精科技站",
        wensc_home: "Wensc的主页",
        fml_unofficial: "FishModLoader非官方",
        half_drop: "半滴的MITE网站",
        about_us: "关于我们:",
        github_org: "GitHub",
        qq_group: "QQ: 661223990",
        site_source: "源码",
        resource_packs: "资源包",
        resource_pack_desc: "MITE默认只能默认选择<b>MITE Resource Pack 1.6.4</b>文件夹或zip压缩包, 可使用<a href=\"https://github.com/MinecraftIsTooEasy/BetterGameSetting\">Better GameSetting</a>模组可自由切换资源包。",
        download_resource_pack: "若你的游戏缺少资源包, 请从以下链接下载:",
        mite_translated_pack_proxy: "MITE新译资源包(代理)",
        mite_translated_pack_direct: "MITE新译资源包(直链)",
        more_packs_coming: "更多资源包下载敬请期待",
        resource_pack_usage: "资源包使用方式",
        mods: "模组",
        mods_desc: "MITE绝大多数模组通过<a href=\"https://github.com/XiaoYuOvO/FishModLoader\">FishModLoader</a>加载. 可称为小鱼模组加载器, 也可称为FML。<a href=\"/pages/about-fml.html\">简短的介绍</a>",
        fml3_mods_intro: "FML3+的模组介绍:",
        new_link: "新链接",
        old_link: "旧链接",
        fml1_mods_intro: "FML1-的模组介绍:",
        link: "链接",
        resource_bundles: "资源整合",
        password_note: "密码(提取码)均为\"mite\"。",
        new_bundle_main: "新资源整合主链接(123云盘)",
        new_bundle_lite: "新资源整合阉割版(谷歌云盘)",
        goblin_backup: "地精科技站资源备份(huang1111云盘)",
        coming_soon: "待建设",
        dev_guide_title: "开发指南",
        fml1_env_setup: "FML1搭建环境教程",
        fml3_env_setup: "FML3搭建环境教程",
        manylib_docs: "ManyLib开发文档",
        ric_docs: "锈铁核心开发文档",
        tutorials_index: "教程索引",
        development_index: "开发文档索引",
        resources_index: "资源索引",
        docs_index: "文档索引",
        no_docs_found: "未找到文档",
        select_doc: "请从左侧选择一个文档查看"
    },
    en: {
        site_title: "Modded MITE",
        nav_home: "Home",
        nav_resources: "Resources",
        nav_tutorials: "Tutorials",
        nav_development: "Development",
        nav_about: "About",
        what_is_modded_mite: "What is Modded MITE and the Modded MITE Community",
        what_is_modded_mite_desc: "Modded MITE usually refers to a MITE instance with a mod loader based on FishModLoader; <br>It can also refer to the Modded MITE community; <br>The Modded MITE community (organization) is composed of a group of players who love MITE, and is currently mainly developing MITE mods, looking forward to your joining! <br>Mod development, website maintenance, document writing, account operation... As long as you are willing, you can join the group for consultation and contribute to the community.",
        quick_nav: "Quick Navigation",
        mod_intro: "Mod Introduction",
        resource_download: "Resource Download",
        old_mod_intro: "Outdated Mod Introduction",
        what_is_fml: "What is FML",
        friendly_links: "Friendly Links",
        mod_wiki: "Mod Wiki",
        goblin_tech: "Goblin Tech Station",
        wensc_home: "Wensc's Homepage",
        fml_unofficial: "FishModLoader Unofficial",
        half_drop: "Half Drop's MITE Website",
        about_us: "About Us:",
        github_org: "GitHub",
        qq_group: "QQ: 661223990",
        site_source: "Source Code",
        resource_packs: "Resource Packs",
        resource_pack_desc: "By default, MITE can only select the <b>MITE Resource Pack 1.6.4</b> folder or zip archive. You can use the <a href=\"https://github.com/MinecraftIsTooEasy/BetterGameSetting\">Better GameSetting</a> mod to freely switch resource packs.",
        download_resource_pack: "If your game is missing a resource pack, please download from the following links:",
        mite_translated_pack_proxy: "MITE Translated Pack (Proxy)",
        mite_translated_pack_direct: "MITE Translated Pack (Direct)",
        more_packs_coming: "More resource packs coming soon",
        resource_pack_usage: "Resource Pack Usage",
        mods: "Mods",
        mods_desc: "Most MITE mods are loaded via <a href=\"https://github.com/XiaoYuOvO/FishModLoader\">FishModLoader</a>, also known as FML. <a href=\"/pages/about-fml.html\">A brief introduction</a>",
        fml3_mods_intro: "FML3+ Mod Introductions:",
        new_link: "New Link",
        old_link: "Old Link",
        fml1_mods_intro: "FML1- Mod Introductions:",
        link: "Link",
        resource_bundles: "Resource Bundles",
        password_note: "All passwords are \"mite\".",
        new_bundle_main: "New Resource Bundle Main Link (123 Cloud Drive)",
        new_bundle_lite: "New Resource Bundle Lite (Google Drive)",
        goblin_backup: "Goblin Tech Station Resource Backup (huang1111 Cloud Drive)",
        coming_soon: "Coming Soon",
        dev_guide_title: "Development Guide",
        fml1_env_setup: "FML1 Environment Setup Tutorial",
        fml3_env_setup: "FML3 Environment Setup Tutorial",
        manylib_docs: "ManyLib Development Documentation",
        ric_docs: "Rust Iron Core Development Documentation",
        tutorials_index: "Tutorials Index",
        development_index: "Development Documentation Index",
        resources_index: "Resources Index",
        docs_index: "Documentation Index",
        no_docs_found: "No documentation found",
        select_doc: "Please select a document from the left to view"
    }
};

let currentLang = localStorage.getItem('language') || 'zh';

function switchLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    applyTranslations();
    updateLanguageButtons();
}

function applyTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[currentLang] && translations[currentLang][key]) {
            el.innerHTML = translations[currentLang][key];
        }
    });
}

function updateLanguageButtons() {
    const buttons = document.querySelectorAll('.language-btn');
    buttons.forEach(btn => {
        if (btn.getAttribute('data-lang') === currentLang) {
            btn.classList.add('active');
        } else {
            btn.classList.remove('active');
        }
    });
}

function t(key) {
    return translations[currentLang] && translations[currentLang][key] ? translations[currentLang][key] : key;
}

document.addEventListener('DOMContentLoaded', () => {
    applyTranslations();
    updateLanguageButtons();
});
